# Release 0.1 Brief

## Source of truth and conflict resolution
- **Source of truth:** Only the following PDFs define requirements: `docs/spec/source/Money_Map_Spec_Packet.pdf`, `docs/spec/source/Блок-схема_старт_разработки_A4_FINAL_v3.pdf`, `docs/spec/source/Блок-схема_Данные_проекта_Определение_и_Сбор_A4_FINAL_v3.pdf`. (Money_Map_Spec_Packet.pdf p.1; Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1)
- **Conflict resolution:** If any README/notes conflict with the PDFs, update the code/docs to match the PDFs and record the change in this brief or `docs/DECISIONS.md` with PDF+page citation. (Money_Map_Spec_Packet.pdf p.13–14)

## A) Objective
Deliver an offline-first Money Map MVP that recommends feasible earning options, provides a concrete route plan, and exports artifacts for execution, all within real-world constraints for one initial locale (DE). (Money_Map_Spec_Packet.pdf p.3, p.5)

## B) MVP flows (end-to-end)
1) **Profile input (Quick mode):** user enters location, time, capital, language, assets, constraints, objective. States: draft → ready. (Money_Map_Spec_Packet.pdf p.4, p.8)
2) **Recommendations (Top-N):** system ranks variants with feasibility, economics (time-to-first-money + net range + costs), legal gate, and explanations. States: loading → empty → results. Errors: “no results” when filters exclude all. (Money_Map_Spec_Packet.pdf p.4, p.6–8)
3) **Plan:** user selects a variant and sees route steps, 4-week plan, artifacts list, and compliance kit/checklist. States: no_selection → ready. (Money_Map_Spec_Packet.pdf p.4, p.8, p.13)
4) **Export:** user exports plan bundle to `exports/` with `plan.md`, `result.json`, `profile.yaml`. States: available → not_ready until plan exists. (Money_Map_Spec_Packet.pdf p.8, p.10)

## B1) MVP flow acceptance criteria (3–7 flows)
Release 0.1 acceptance requires **both** global DoD **and** flow-level acceptance criteria below. (Money_Map_Spec_Packet.pdf p.14; Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1)

1) **Data status + validate + staleness flow**  
   **Acceptance criteria:**  
   - Data status section exists and displays dataset_version, reviewed_at, warnings, and a validate report. (Money_Map_Spec_Packet.pdf p.8)  
   - Status states supported: valid / invalid / stale, and stale triggers warnings. (Money_Map_Spec_Packet.pdf p.7–8)  
   - Validation produces a report with FATAL/WARN issues. (Money_Map_Spec_Packet.pdf p.6)  

2) **Profile input (Quick + Advanced) flow**  
   **Acceptance criteria:**  
   - Profile screen supports Quick (5–7 fields) + Advanced input modes. (Money_Map_Spec_Packet.pdf p.8)  
   - Profile state transitions draft → ready and uses required MVP inputs (location/time/capital/language/assets/constraints/objective). (Money_Map_Spec_Packet.pdf p.4, p.8)  

3) **Recommendations Top-10 (feasibility/economics/legal + diagnostics) flow**  
   **Acceptance criteria:**  
   - Recommendations list shows top-10 ranked variants with feasibility, economics, legal gate, time-to-first-money, net range, costs, and diagnostics/explanations. (Money_Map_Spec_Packet.pdf p.4, p.6–7)  
   - Objective preset is present and used for scoring; filters are present and affect candidate selection. (Money_Map_Spec_Packet.pdf p.6, p.8)  
   - Each variant includes explanations (3 pros / 1–2 cons) and diagnostics (filtered counts). (Money_Map_Spec_Packet.pdf p.6)  
   - Legal gate includes staleness behavior and concrete compliance checklists. (Money_Map_Spec_Packet.pdf p.7)  
   - Recommendations screen supports loading / empty / results states. (Money_Map_Spec_Packet.pdf p.8)  

4) **Reality Check block flow (Recommendations screen)**  
   **Acceptance criteria:**  
   - Reality Check block is present on Recommendations and shows top 3 blockers plus quick fixes. (Money_Map_Spec_Packet.pdf p.4, p.8)  
   - Quick fixes adjust objective/filters (e.g., fastest money, lower legal friction, startable in 2 weeks). (Money_Map_Spec_Packet.pdf p.8)  

5) **Variant selection → Plan flow**  
   **Acceptance criteria:**  
   - Plan view includes route steps, artifacts, a 4-week plan, checkpoints, and compliance kit/checklist section. (Money_Map_Spec_Packet.pdf p.4, p.6–7)  
   - Plan state is no_selection → ready based on a selected variant. (Money_Map_Spec_Packet.pdf p.8)  

6) **Export + auditability flow**  
   **Acceptance criteria:**  
   - Exports include plan.md, result.json, and profile.yaml under exports/. (Money_Map_Spec_Packet.pdf p.10)  
   - Export screen/button/state supports available / not_ready (not_ready until plan exists; available when plan is ready). (Money_Map_Spec_Packet.pdf p.8–10)  
   - result.json includes applied_rules with rule ids + reasons. (Money_Map_Spec_Packet.pdf p.11)  

7) **Manual demo run (CLI + UI) — required**  
   **Acceptance criteria:**  
   - CLI validates → recommends → plans → exports in a short demo run. (Money_Map_Spec_Packet.pdf p.14)  
   - Then the UI E2E flow passes (Profile → Recommendations → Plan → Export) as a required release gate. (Money_Map_Spec_Packet.pdf p.14; Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1)  

## C) Scope
**IN (MVP/MUST)**
- Offline-first operation; single country (DE). (Money_Map_Spec_Packet.pdf p.5)
- YAML/JSON dataset with validation and rulepacks. (Money_Map_Spec_Packet.pdf p.5)
- Recommendation engine with feasibility + economics + legal/compliance gates. (Money_Map_Spec_Packet.pdf p.5–7)
- Route plan + 4-week plan; export to md/json/yaml. (Money_Map_Spec_Packet.pdf p.5–6, p.10)
- Streamlit UI for profile → recommendations → plan → export. (Money_Map_Spec_Packet.pdf p.5, p.8)
- Data status section (dataset_version, reviewed_at, warnings, validate report) with valid/invalid/stale states. (Money_Map_Spec_Packet.pdf p.7–8)
- Reality Check block on Recommendations (top blockers + quick fixes). (Money_Map_Spec_Packet.pdf p.4, p.8)
- MVP fixed to DE with a high-quality set of 30–50 variants and a DE rulepack with concrete checklists. (Money_Map_Spec_Packet.pdf p.5, p.7)

**OUT (MVP/WON’T)**
- Online parsing of laws. (Money_Map_Spec_Packet.pdf p.5)
- Income guarantees or promises. (Money_Map_Spec_Packet.pdf p.5)
- Automated job submissions. (Money_Map_Spec_Packet.pdf p.5)
- Accounts/cloud features. (Money_Map_Spec_Packet.pdf p.5)
- Legal conclusions. (Money_Map_Spec_Packet.pdf p.5)

## D) Data readiness gates
- **Gate 1 — Full Data Requirements package:** Inventory + Dictionary + ER + Policies; every data item has producer + consumer + rules; no dangling fields. (Блок-схема_Данные_проекта_Определение_и_Сбор_A4_FINAL_v3.pdf p.1)
- **Gate 2 — Reproducibility:** Data collection is repeatable; one process recreates the same data; errors are diagnosable. (Блок-схема_Данные_проекта_Определение_и_Сбор_A4_FINAL_v3.pdf p.2)
- **Recommended:** Data contract tests in CI for external inputs/outputs. (Блок-схема_Данные_проекта_Определение_и_Сбор_A4_FINAL_v3.pdf p.2)

## E) Milestones (M0–M7)
- **M0** — Repo scaffold + CLI/UI wiring + CI; `pip install -e .`, `money-map --help`, `money-map ui` runs. (Money_Map_Spec_Packet.pdf p.13)
- **M1** — Golden dataset v0 + meta + DE rulepack; load/validate passes; taxonomy/cells available. (Money_Map_Spec_Packet.pdf p.13)
- **M2** — Query/search + indexes; search returns relevant results. (Money_Map_Spec_Packet.pdf p.13)
- **M3** — Legal gate + compliance builder + staleness check; stale → warning. (Money_Map_Spec_Packet.pdf p.13)
- **M4** — Feasibility + economics + objective ranking; top-10 with explanations/ranges. (Money_Map_Spec_Packet.pdf p.13)
- **M5** — RoutePlan + 4-week plan + exports (plan.md, etc.) with steps/artifacts/compliance. (Money_Map_Spec_Packet.pdf p.13)
- **M6** — Streamlit UI MVP: Profile → Recommendations → Plan → Export without crashes. (Money_Map_Spec_Packet.pdf p.13)
- **M7** — Stabilization: tests/CI green; demo profile stable. (Money_Map_Spec_Packet.pdf p.13)

**Release 0.1 includes:** M0–M6 plus minimal M7 hardening (smoke tests, CI stability). (Money_Map_Spec_Packet.pdf p.13; Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1)

## F) Definition of Done (Release 0.1)
Release 0.1 acceptance requires both the global DoD below and the flow-level acceptance criteria in §B1. (Money_Map_Spec_Packet.pdf p.14; Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1)
- E2E flow works in UI: Profile → top-10 → Plan → Export; no stacktrace; offline. (Money_Map_Spec_Packet.pdf p.14)
- FeasibleTop10Rate ≥ 70% on demo profile; PlanActionability ≥ 10 steps and ≥ 3 artifacts. (Money_Map_Spec_Packet.pdf p.14)
- Legal checklist coverage for regulated domains; staleness behavior enforced. (Money_Map_Spec_Packet.pdf p.14)
- Deterministic recommendations; CI runs pytest + `money-map validate`. (Money_Map_Spec_Packet.pdf p.14)
- result.json includes applied_rules with rule ids + reasons. (Money_Map_Spec_Packet.pdf p.11)

## G) Artifacts produced
- `exports/plan.md`, `exports/result.json`, `exports/profile.yaml`. (Money_Map_Spec_Packet.pdf p.10)
- `plan.md` contains steps, 4-week plan, artifacts list, and compliance section. (Money_Map_Spec_Packet.pdf p.13)
- Dataset skeleton: `data/meta.yaml`, `data/rulepacks/DE.yaml`, `data/variants.yaml` (plus core model updates). (Money_Map_Spec_Packet.pdf p.15)
- Compliance kits and legal gate outputs referenced in recommendations/plan. (Money_Map_Spec_Packet.pdf p.6–7, p.15)

## H) Implementation policy
- Release 0.1 emits placeholder artifacts under `exports/artifacts/` (checklist.md, budget.yaml, outreach_message.txt) and always includes a “Prep tasks” step; see `docs/DECISIONS.md` (2026-02-04). (Money_Map_Spec_Packet.pdf p.4, p.6–7)

## I) Quality gates (Release 0.1 checklist)
- Release brief + acceptance criteria for 3–7 MVP flows are required before start. (Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1)
- One-command run and environment setup are required (CLI/UI runnable). (Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1; Money_Map_Spec_Packet.pdf p.13)
- Local quality gates: format, lint, tests. (Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1; Money_Map_Spec_Packet.pdf p.14)
- CI on push/PR must run pytest + CLI validate. (Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1; Money_Map_Spec_Packet.pdf p.14)
- Walking skeleton + smoke checks must pass (UI/CLI/API/Core/Storage). (Блок-схема_старт_разработки_A4_FINAL_v3.pdf p.1)
